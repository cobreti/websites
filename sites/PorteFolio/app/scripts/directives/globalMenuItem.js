// Generated by CoffeeScript 1.11.1
(function() {
  angular.module('dannyThibaudeauApp').directive('globalMenuItem', [
    '$location', '$route', '$routeParams', function($location, $route, $routeParams) {
      return {
        restrict: 'EA',
        scope: true,
        templateUrl: 'directives/globalMenuItem.html',
        link: function($scope, $element, $attr) {
          var GlobalMenuItem;
          GlobalMenuItem = (function() {
            function GlobalMenuItem() {
              this.text = $attr.text;
              this.path = "/" + $attr.route;
              this.updateItemStatus($route.current.originalPath);
              $scope.text = this.text;
              $scope.$on('$routeChangeSuccess', (function(_this) {
                return function() {
                  if ($route.current.originalPath) {
                    return _this.updateItemStatus($route.current.originalPath);
                  }
                };
              })(this));
              $scope.changeRoute = (function(_this) {
                return function() {
                  return $location.path(_this.path);
                };
              })(this);
            }

            GlobalMenuItem.prototype.updateItemStatus = function(currentRoute) {
              var pathItems;
              pathItems = currentRoute.split('/');
              if (pathItems.length > 1 && pathItems[1] === $attr.route) {
                return $element.addClass('menu-item-selected');
              } else {
                return $element.removeClass('menu-item-selected');
              }
            };

            return GlobalMenuItem;

          })();
          return new GlobalMenuItem();
        }
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=globalMenuItem.js.map
